*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --bg: #f4f6f9; --surface: #fff; --border: #e1e5ea;
  --primary: #4f46e5; --primary-hover: #4338ca;
  --danger: #dc2626; --text: #1e293b; --muted: #64748b; --radius: 8px;
}
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg); color: var(--text); line-height: 1.5; font-size: 15px; }
.app { min-height: 100vh; }
.app-header { background: var(--primary); color: white; padding: 1.5rem; text-align: center; }
.app-header h1 { font-size: 1.75rem; font-weight: 700; }
.app-header p { opacity: .85; margin-top: .25rem; }
.app-main { max-width: 960px; margin: 2rem auto; padding: 0 1rem; display: flex; flex-direction: column; gap: 2rem; }
.expense-form, .expense-list-section { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,.08); }
h2 { font-size: 1.1rem; font-weight: 600; margin-bottom: 1.25rem; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
.field { display: flex; flex-direction: column; gap: .35rem; margin-bottom: 1rem; }
label { font-size: .85rem; font-weight: 500; color: var(--muted); }
input, select { border: 1px solid var(--border); border-radius: var(--radius); padding: .55rem .75rem; font-size: .95rem; width: 100%; }
input:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79,70,229,.15); }
input[aria-invalid="true"], select[aria-invalid="true"] { border-color: var(--danger); }
.field-error { font-size: .8rem; color: var(--danger); }
.api-error { color: var(--danger); font-size: .875rem; margin-bottom: .75rem; padding: .5rem; background: #fef2f2; border-radius: var(--radius); }
.btn-primary { display: block; width: 100%; background: var(--primary); color: white; border: none; border-radius: var(--radius); padding: .6rem 1.5rem; font-size: .95rem; font-weight: 600; cursor: pointer; margin-top: .25rem; }
.btn-primary:hover:not(:disabled) { background: var(--primary-hover); }
.btn-primary:disabled { opacity: .65; cursor: not-allowed; }
.btn-retry { background: none; border: 1px solid var(--danger); color: var(--danger); border-radius: var(--radius); padding: .3rem .75rem; cursor: pointer; margin-top: .5rem; }
.list-header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: .75rem; margin-bottom: 1rem; }
.list-controls { display: flex; gap: .5rem; }
.list-controls select { width: auto; font-size: .875rem; }
.total-bar { display: flex; justify-content: space-between; background: #f0f4ff; border: 1px solid #c7d7fe; border-radius: var(--radius); padding: .65rem 1rem; margin-bottom: 1rem; font-size: .9rem; }
.total-bar strong { color: var(--primary); }
.count { color: var(--muted); font-size: .85rem; }
.table-wrapper { overflow-x: auto; border-radius: var(--radius); border: 1px solid var(--border); }
table { width: 100%; border-collapse: collapse; font-size: .9rem; }
th { background: #f8fafc; text-align: left; padding: .65rem 1rem; font-size: .8rem; font-weight: 600; color: var(--muted); text-transform: uppercase; border-bottom: 1px solid var(--border); }
td { padding: .75rem 1rem; border-bottom: 1px solid var(--border); }
tbody tr:last-child td { border-bottom: none; }
tbody tr:hover { background: #f8fafc; }
.amount-col { text-align: right; }
tfoot td { border-top: 2px solid var(--border); font-weight: 600; background: #f8fafc; padding: .65rem 1rem; }
.total-label { color: var(--muted); font-size: .8rem; text-transform: uppercase; }
.total-value { color: var(--primary); font-size: 1rem; text-align: right; }
.badge { background: #ede9fe; color: #5b21b6; border-radius: 999px; padding: .15rem .6rem; font-size: .78rem; font-weight: 600; }
.state-msg { text-align: center; padding: 2.5rem; color: var(--muted); }
.state-msg.error { color: var(--danger); background: #fef2f2; border-radius: var(--radius); }
@media (max-width: 540px) { .form-row { grid-template-columns: 1fr; } }